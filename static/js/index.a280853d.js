/*! For license information please see index.a280853d.js.LICENSE.txt */
(()=>{"use strict";var e,t,s,r,n,l,a={647(e,t,s){var r=s(848),n=s(540),l=s(338),a=s(522),c=s(433);let o=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},i=(...e)=>e.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim();var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let m=(0,n.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:l="",children:a,iconNode:c,...o},m)=>(0,n.createElement)("svg",{ref:m,...d,width:t,height:t,stroke:e,strokeWidth:r?24*Number(s)/Number(t):s,className:i("lucide",l),...!a&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(o)&&{"aria-hidden":"true"},...o},[...c.map(([e,t])=>(0,n.createElement)(e,t)),...Array.isArray(a)?a:[a]])),x=(e,t)=>{let s=(0,n.forwardRef)(({className:s,...r},l)=>(0,n.createElement)(m,{ref:l,iconNode:t,className:i(`lucide-${o(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,s),...r}));return s.displayName=o(e),s},h=x("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),u=x("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),p=x("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),b=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;return new Promise(s=>{setTimeout(()=>{s({success:!0,data:e})},t)})},g=function(){let e,t,s,l,c,o,i,d,m,x,g,j,f,y,N,v,_,w,S,k,C,R,D=(0,a.c)(39),[O,M]=(0,n.useTransition)(),[T,P]=(0,n.useState)(null);D[0]===Symbol.for("react.memo_cache_sentinel")?(e={name:"",email:""},D[0]=e):e=D[0];let[E,A]=(0,n.useState)(e);D[1]!==E?(t=e=>{e.preventDefault(),console.info("开始提交表单"),M(async()=>{try{let e=await b(E);P(e)}catch(e){console.log(e)}})},D[1]=E,D[2]=t):t=D[2];let L=t;return D[3]===Symbol.for("react.memo_cache_sentinel")?(s=(0,r.jsxs)("h3",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[(0,r.jsx)(h,{className:"w-5 h-5 text-blue-600"}),"1. Actions - 简化异步操作"]}),D[3]=s):s=D[3],D[4]===Symbol.for("react.memo_cache_sentinel")?(l=(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"姓名"}),D[4]=l):l=D[4],D[5]!==E?(c=e=>A({...E,name:e.target.value}),D[5]=E,D[6]=c):c=D[6],D[7]!==E.name||D[8]!==c?(o=(0,r.jsxs)("div",{children:[l,(0,r.jsx)("input",{type:"text",value:E.name,onChange:c,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"请输入姓名"})]}),D[7]=E.name,D[8]=c,D[9]=o):o=D[9],D[10]===Symbol.for("react.memo_cache_sentinel")?(i=(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"邮箱"}),D[10]=i):i=D[10],D[11]!==E?(d=e=>A({...E,email:e.target.value}),D[11]=E,D[12]=d):d=D[12],D[13]!==E.email||D[14]!==d?(m=(0,r.jsxs)("div",{children:[i,(0,r.jsx)("input",{type:"email",value:E.email,onChange:d,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"请输入邮箱"})]}),D[13]=E.email,D[14]=d,D[15]=m):m=D[15],D[16]!==O?(x=O?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u,{className:"w-4 h-4 mr-2 animate-spin"}),"提交中..."]}):"提交表单",D[16]=O,D[17]=x):x=D[17],D[18]!==L||D[19]!==O||D[20]!==x?(g=(0,r.jsx)("button",{onClick:L,disabled:O,type:"button",className:"w-full px-4 py-2 bg-blue-600 text-white  rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center justify-center",children:x}),D[18]=L,D[19]=O,D[20]=x,D[21]=g):g=D[21],D[22]!==g||D[23]!==o||D[24]!==m?(j=(0,r.jsxs)("div",{className:"space-y-4",children:[o,m,g]}),D[22]=g,D[23]=o,D[24]=m,D[25]=j):j=D[25],D[26]!==T?(f=T&&(0,r.jsxs)("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg flex items-center gap-2",children:[(0,r.jsx)(p,{className:"w-5 h-5 text-green-600"}),(0,r.jsxs)("span",{className:"text-green-700",children:["提交成功！数据: ",T.data.name]})]}),D[26]=T,D[27]=f):f=D[27],D[28]===Symbol.for("react.memo_cache_sentinel")?(y=(0,r.jsxs)("div",{className:"mt-4 text-sm text-gray-600 bg-blue-50 p-3 rounded-lg",children:[(0,r.jsx)("strong",{children:"特性："})," 使用 useTransition 处理异步操作，自动管理加载状态"]}),N=(0,r.jsx)("h1",{children:"startTransition 的正确方式"}),v=(0,r.jsx)("h2",{children:"方式 1: 在 then 回调内部使用"}),D[28]=y,D[29]=N,D[30]=v):(y=D[28],N=D[29],v=D[30]),D[31]===Symbol.for("react.memo_cache_sentinel")?(_=(0,r.jsxs)("section",{children:[v,(0,r.jsx)("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:(0,r.jsx)("pre",{className:"text-xs text-gray-700 overflow-x-auto",children:"fetchUserData(1)\n  .then(data => {\n    startTransition(() => {\n      setUser(data); // ✅ 正确\n    });\n  });\n\n  // 链式 Promise\n  fetch()\n  .then(step1)\n  .then(step2)\n  .then(finalData => {\n    startTransition(() => {\n      setState(finalData); // ✅\n    });\n  });\n\n  // 所有更新在同一个 transition\n  fetch().then(data => {\n  startTransition(() => {\n    setUser(data.user);\n    setPosts(data.posts);\n    setComments(data.comments);\n  }); // ✅ 所有更新在同一个 transition\n});\n  "})})]}),w=(0,r.jsx)("h2",{children:"方式 2: async/await - await 后使用"}),D[31]=_,D[32]=w):(_=D[31],w=D[32]),D[33]===Symbol.for("react.memo_cache_sentinel")?(S=(0,r.jsxs)("section",{children:[w,(0,r.jsx)("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:(0,r.jsx)("pre",{className:"text-xs text-gray-700 overflow-x-auto",children:"const data = await fetchData();\nstartTransition(() => {\n  setState(data); // ✅ 正确\n});"})})]}),k=(0,r.jsx)("h2",{children:"方式 3: 将整个 async 函数包裹"}),D[33]=S,D[34]=k):(S=D[33],k=D[34]),D[35]===Symbol.for("react.memo_cache_sentinel")?(C=(0,r.jsxs)("section",{children:[k,(0,r.jsx)("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:(0,r.jsx)("pre",{className:"text-xs text-gray-700 overflow-x-auto",children:"startTransition(async () => {\n  const data = await fetchData();\n  setState(data); // ✅ 正确\n});"})})]}),D[35]=C):C=D[35],D[36]!==j||D[37]!==f?(R=(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s,j,f,y,N,_,S,C]}),D[36]=j,D[37]=f,D[38]=R):R=D[38],R},j=x("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),f=x("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),y=x("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),N=(0,n.memo)(e=>{let{data:t,onUpdate:s}=e,l=(0,n.useRef)(0);return l.current+=1,(0,r.jsxs)("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsx)("h4",{className:"font-semibold text-red-900",children:"❌ 传统方式（手动 memo）"}),(0,r.jsxs)("span",{className:"text-xs bg-red-200 text-red-800 px-2 py-1 rounded-full",children:["渲染次数: ",l.current]})]}),(0,r.jsxs)("p",{className:"text-sm text-red-700",children:["数据: ",t]}),(0,r.jsx)("button",{type:"button",onClick:s,className:"mt-2 px-3 py-1 bg-red-600 text-white rounded text-sm hover:bg-red-700",children:"更新"})]})});function v(e){let{data:t,onUpdate:s}=e,l=(0,n.useRef)(0);return l.current+=1,(0,r.jsxs)("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsx)("h4",{className:"font-semibold text-green-900",children:"✅ React Compiler（自动优化）"}),(0,r.jsxs)("span",{className:"text-xs bg-green-200 text-green-800 px-2 py-1 rounded-full",children:["渲染次数: ",l.current]})]}),(0,r.jsxs)("p",{className:"text-sm text-green-700",children:["数据: ",t]}),(0,r.jsx)("button",{type:"button",onClick:s,className:"mt-2 px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700",children:"更新"})]})}function _(){let e,t,s,l,c,o,i,d,m,x,u,p,b=(0,a.c)(19),[g,f]=(0,n.useState)(0),[y,_]=(0,n.useState)("初始数据");b[0]===Symbol.for("react.memo_cache_sentinel")?(e=()=>{_("已更新 "+Date.now())},b[0]=e):e=b[0];let w=e;b[1]===Symbol.for("react.memo_cache_sentinel")?(t=()=>{_("已更新 "+Date.now())},b[1]=t):t=b[1];let S=t;return b[2]===Symbol.for("react.memo_cache_sentinel")?(s=(0,r.jsxs)("h3",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[(0,r.jsx)(h,{className:"w-5 h-5 text-blue-600"}),"示例 1: 组件优化对比"]}),b[2]=s):s=b[2],b[3]===Symbol.for("react.memo_cache_sentinel")?(l=(0,r.jsxs)("p",{className:"text-sm text-blue-900 mb-2",children:[(0,r.jsx)("strong",{children:"测试方法："})," ",'点击"触发父组件更新"，观察两个子组件的渲染次数']}),b[3]=l):l=b[3],b[4]===Symbol.for("react.memo_cache_sentinel")?(c=(0,r.jsxs)("div",{className:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[l,(0,r.jsxs)("p",{className:"text-xs text-blue-700",children:["✓ 手动优化的组件不会重新渲染（使用了 memo）",(0,r.jsx)("br",{}),"✓ React Compiler 的组件也不会重新渲染（自动优化）"]})]}),b[4]=c):c=b[4],b[5]!==g?(o=()=>f(g+1),b[5]=g,b[6]=o):o=b[6],b[7]===Symbol.for("react.memo_cache_sentinel")?(i=(0,r.jsx)(j,{className:"w-4 h-4"}),b[7]=i):i=b[7],b[8]!==g||b[9]!==o?(d=(0,r.jsxs)("button",{type:"button",onClick:o,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[i,"触发父组件更新 (Count: ",g,")"]}),b[8]=g,b[9]=o,b[10]=d):d=b[10],b[11]===Symbol.for("react.memo_cache_sentinel")?(m=(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"这不会影响数据，但会触发父组件重渲染"}),b[11]=m):m=b[11],b[12]!==d?(x=(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[d,m]}),b[12]=d,b[13]=x):x=b[13],b[14]!==y?(u=(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsx)(N,{data:y,onUpdate:w}),(0,r.jsx)(v,{data:y,onUpdate:S})]}),b[14]=y,b[15]=u):u=b[15],b[16]!==u||b[17]!==x?(p=(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s,c,(0,r.jsxs)("div",{className:"space-y-4",children:[x,u]})]}),b[16]=u,b[17]=x,b[18]=p):p=b[18],p}function w(e){console.log("执行昂贵计算...");let t=0;for(let s=0;s<1e5;s++)t+=e*s;return t}function S(e){let{number:t}=e,s=(0,n.useRef)(0);s.current+=1;let l=(0,n.useMemo)(()=>w(t),[t]);return(0,r.jsxs)("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[(0,r.jsx)("h4",{className:"font-semibold text-red-900 mb-2",children:"❌ 传统方式（useMemo）"}),(0,r.jsxs)("p",{className:"text-sm text-red-700",children:["渲染次数: ",s.current]}),(0,r.jsxs)("p",{className:"text-sm text-red-700",children:["计算结果: ",l.toLocaleString()]})]})}function k(e){let{number:t}=e,s=(0,n.useRef)(0);s.current+=1;let l=w(t);return(0,r.jsxs)("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[(0,r.jsx)("h4",{className:"font-semibold text-green-900 mb-2",children:"✅ React Compiler（自动）"}),(0,r.jsxs)("p",{className:"text-sm text-green-700",children:["渲染次数: ",s.current]}),(0,r.jsxs)("p",{className:"text-sm text-green-700",children:["计算结果: ",l.toLocaleString()]})]})}function C(){let e,t,s,l,c,o,i,d,m,x,h=(0,a.c)(21),[u,p]=(0,n.useState)(10),[b,g]=(0,n.useState)(0);return h[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsxs)("h3",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[(0,r.jsx)(f,{className:"w-5 h-5 text-purple-600"}),"示例 2: 复杂计算优化"]}),h[0]=e):e=h[0],h[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsxs)("p",{className:"text-sm text-purple-900 mb-2",children:[(0,r.jsx)("strong",{children:"测试方法："})," 观察控制台，改变计算数字时才会执行计算"]}),h[1]=t):t=h[1],h[2]===Symbol.for("react.memo_cache_sentinel")?(s=(0,r.jsxs)("div",{className:"mb-4 p-4 bg-purple-50 border border-purple-200 rounded-lg",children:[t,(0,r.jsxs)("p",{className:"text-xs text-purple-700",children:['✓ 点击"无关更新"不会重新计算',(0,r.jsx)("br",{}),"✓ 改变数字才会重新计算"]})]}),h[2]=s):s=h[2],h[3]!==u?(l=()=>p(u+1),h[3]=u,h[4]=l):l=h[4],h[5]!==u||h[6]!==l?(c=(0,r.jsxs)("button",{type:"button",onClick:l,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:["改变数字 (",u,")"]}),h[5]=u,h[6]=l,h[7]=c):c=h[7],h[8]!==b?(o=()=>g(b+1),h[8]=b,h[9]=o):o=h[9],h[10]!==o||h[11]!==b?(i=(0,r.jsxs)("button",{type:"button",onClick:o,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:["无关更新 (",b,")"]}),h[10]=o,h[11]=b,h[12]=i):i=h[12],h[13]!==c||h[14]!==i?(d=(0,r.jsxs)("div",{className:"flex gap-2",children:[c,i]}),h[13]=c,h[14]=i,h[15]=d):d=h[15],h[16]!==u?(m=(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsx)(S,{number:u}),(0,r.jsx)(k,{number:u})]}),h[16]=u,h[17]=m):m=h[17],h[18]!==d||h[19]!==m?(x=(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e,s,(0,r.jsxs)("div",{className:"space-y-4",children:[d,m]})]}),h[18]=d,h[19]=m,h[20]=x):x=h[20],x}let R=(0,n.memo)(e=>{let{item:t,onToggle:s}=e,l=(0,n.useRef)(0);return l.current+=1,(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("input",{type:"checkbox",checked:t.completed,onChange:()=>s(t.id),className:"w-4 h-4"}),(0,r.jsx)("span",{className:t.completed?"line-through text-gray-400":"text-gray-900",children:t.text})]}),(0,r.jsxs)("span",{className:"text-xs text-red-600",children:["渲染: ",l.current]})]})});function D(e){let{item:t,onToggle:s}=e,l=(0,n.useRef)(0);return l.current+=1,(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("input",{type:"checkbox",checked:t.completed,onChange:()=>s(t.id),className:"w-4 h-4"}),(0,r.jsx)("span",{className:t.completed?"line-through text-gray-400":"text-gray-900",children:t.text})]}),(0,r.jsxs)("span",{className:"text-xs text-green-600",children:["渲染: ",l.current]})]})}function O(){let e,t,s,l,c,o,i,d,m,x,h,u,b,g,j,f,y,N,v,_,w,S=(0,a.c)(37);S[0]===Symbol.for("react.memo_cache_sentinel")?(e=[{id:1,text:"学习 React 19",completed:!1},{id:2,text:"了解 React Compiler",completed:!1},{id:3,text:"构建应用",completed:!1}],S[0]=e):e=S[0];let[k,C]=(0,n.useState)(e),[O,M]=(0,n.useState)("all");S[1]===Symbol.for("react.memo_cache_sentinel")?(t=e=>{C(t=>t.map(t=>t.id===e?{...t,completed:!t.completed}:t))},S[1]=t):t=S[1];let T=t;S[2]===Symbol.for("react.memo_cache_sentinel")?(s=e=>{C(t=>t.map(t=>t.id===e?{...t,completed:!t.completed}:t))},S[2]=s):s=S[2];let P=s;S[3]===Symbol.for("react.memo_cache_sentinel")?(l=(0,r.jsxs)("h3",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[(0,r.jsx)(p,{className:"w-5 h-5 text-green-600"}),"示例 3: 列表渲染优化"]}),S[3]=l):l=S[3],S[4]===Symbol.for("react.memo_cache_sentinel")?(c=(0,r.jsxs)("p",{className:"text-sm text-green-900 mb-2",children:[(0,r.jsx)("strong",{children:"测试方法："})," 勾选项目，只有被点击的项目会重新渲染"]}),S[4]=c):c=S[4],S[5]===Symbol.for("react.memo_cache_sentinel")?(o=(0,r.jsxs)("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:[c,(0,r.jsxs)("p",{className:"text-xs text-green-700",children:["✓ 其他未改变的项目不会重新渲染",(0,r.jsx)("br",{}),"✓ 改变筛选器也只会重渲染必要的部分"]})]}),S[5]=o):o=S[5],S[6]===Symbol.for("react.memo_cache_sentinel")?(i=()=>M("all"),S[6]=i):i=S[6];let E=`px-3 py-1 rounded ${"all"===O?"bg-green-600 text-white":"bg-gray-200"}`;S[7]!==E?(d=(0,r.jsx)("button",{type:"button",onClick:i,className:E,children:"全部"}),S[7]=E,S[8]=d):d=S[8],S[9]===Symbol.for("react.memo_cache_sentinel")?(m=()=>M("active"),S[9]=m):m=S[9];let A=`px-3 py-1 rounded ${"active"===O?"bg-green-600 text-white":"bg-gray-200"}`;S[10]!==A?(x=(0,r.jsx)("button",{type:"button",onClick:m,className:A,children:"未完成"}),S[10]=A,S[11]=x):x=S[11],S[12]===Symbol.for("react.memo_cache_sentinel")?(h=()=>M("completed"),S[12]=h):h=S[12];let L=`px-3 py-1 rounded ${"completed"===O?"bg-green-600 text-white":"bg-gray-200"}`;if(S[13]!==L?(u=(0,r.jsx)("button",{type:"button",onClick:h,className:L,children:"已完成"}),S[13]=L,S[14]=u):u=S[14],S[15]!==x||S[16]!==u||S[17]!==d?(b=(0,r.jsxs)("div",{className:"flex gap-2",children:[d,x,u]}),S[15]=x,S[16]=u,S[17]=d,S[18]=b):b=S[18],S[19]===Symbol.for("react.memo_cache_sentinel")?(g=(0,r.jsx)("h4",{className:"font-semibold text-red-900 mb-2",children:"❌ 传统方式"}),S[19]=g):g=S[19],S[20]!==k){let e;S[22]===Symbol.for("react.memo_cache_sentinel")?(e=e=>(0,r.jsx)(R,{item:e,onToggle:T},e.id),S[22]=e):e=S[22],j=k.map(e),S[20]=k,S[21]=j}else j=S[21];if(S[23]!==j?(f=(0,r.jsxs)("div",{children:[g,(0,r.jsx)("div",{className:"space-y-2",children:j})]}),S[23]=j,S[24]=f):f=S[24],S[25]===Symbol.for("react.memo_cache_sentinel")?(y=(0,r.jsx)("h4",{className:"font-semibold text-green-900 mb-2",children:"✅ React Compiler"}),S[25]=y):y=S[25],S[26]!==k){let e;S[28]===Symbol.for("react.memo_cache_sentinel")?(e=e=>(0,r.jsx)(D,{item:e,onToggle:P},e.id),S[28]=e):e=S[28],N=k.map(e),S[26]=k,S[27]=N}else N=S[27];return S[29]!==N?(v=(0,r.jsxs)("div",{children:[y,(0,r.jsx)("div",{className:"space-y-2",children:N})]}),S[29]=N,S[30]=v):v=S[30],S[31]!==f||S[32]!==v?(_=(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f,v]}),S[31]=f,S[32]=v,S[33]=_):_=S[33],S[34]!==b||S[35]!==_?(w=(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[l,o,(0,r.jsxs)("div",{className:"space-y-4",children:[b,_]})]}),S[34]=b,S[35]=_,S[36]=w):w=S[36],w}function M(){let e,t,s,n,l,c,o=(0,a.c)(6);return o[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsxs)("h3",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[(0,r.jsx)(y,{className:"w-5 h-5 text-orange-600"}),"验证 React Compiler 是否工作"]}),o[0]=e):e=o[0],o[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsx)("h4",{className:"font-semibold text-orange-900 mb-3",children:"\uD83D\uDD0D 验证方法"}),o[1]=t):t=o[1],o[2]===Symbol.for("react.memo_cache_sentinel")?(s=(0,r.jsxs)("div",{className:"flex items-start gap-2",children:[(0,r.jsx)("span",{className:"font-bold",children:"1️⃣"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"查看构建输出"}),(0,r.jsx)("pre",{className:"mt-1 bg-white p-2 rounded text-xs overflow-x-auto",children:"npm run build\n# 查找输出中的 React Compiler 信息"})]})]}),o[2]=s):s=o[2],o[3]===Symbol.for("react.memo_cache_sentinel")?(n=(0,r.jsxs)("div",{className:"flex items-start gap-2",children:[(0,r.jsx)("span",{className:"font-bold",children:"2️⃣"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"使用 React DevTools"}),(0,r.jsx)("p",{className:"text-xs mt-1",children:"安装 React DevTools 浏览器扩展，在 Profiler 中查看渲染次数"})]})]}),o[3]=n):n=o[3],o[4]===Symbol.for("react.memo_cache_sentinel")?(l=(0,r.jsxs)("div",{className:"flex items-start gap-2",children:[(0,r.jsx)("span",{className:"font-bold",children:"3️⃣"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"添加渲染计数器"}),(0,r.jsx)("pre",{className:"mt-1 bg-white p-2 rounded text-xs overflow-x-auto",children:"const renderCount = useRef(0);\nrenderCount.current += 1;\n\nreturn <div>渲染次数: {renderCount.current}</div>"})]})]}),o[4]=l):l=o[4],o[5]===Symbol.for("react.memo_cache_sentinel")?(c=(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e,(0,r.jsx)("div",{className:"space-y-4",children:(0,r.jsxs)("div",{className:"p-4 bg-orange-50 border border-orange-200 rounded-lg",children:[t,(0,r.jsxs)("div",{className:"space-y-3 text-sm text-orange-800",children:[s,n,l,(0,r.jsxs)("div",{className:"flex items-start gap-2",children:[(0,r.jsx)("span",{className:"font-bold",children:"4️⃣"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"检查编译后的代码"}),(0,r.jsx)("p",{className:"text-xs mt-1",children:"React Compiler 会添加特殊的注释和优化标记"})]})]})]})]})})]}),o[5]=c):c=o[5],c}function T(){let e,t,s,n=(0,a.c)(3);return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"\uD83D\uDCDD 代码对比"}),n[0]=e):e=n[0],n[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsxs)("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[(0,r.jsx)("h4",{className:"font-semibold text-red-900 mb-3",children:"❌ React 18（手动优化）"}),(0,r.jsx)("pre",{className:"text-xs bg-white p-3 rounded overflow-x-auto",children:"import { memo, useMemo, useCallback } from 'react';\n\nconst MyComponent = memo(({ data, onClick }) => {\n  const processed = useMemo(() => {\n    return processData(data);\n  }, [data]);\n  \n  const handleClick = useCallback(() => {\n    onClick(processed);\n  }, [onClick, processed]);\n  \n  return <button onClick={handleClick}>\n    {processed}\n  </button>;\n});"})]}),n[1]=t):t=n[1],n[2]===Symbol.for("react.memo_cache_sentinel")?(s=(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e,(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t,(0,r.jsxs)("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[(0,r.jsx)("h4",{className:"font-semibold text-green-900 mb-3",children:"✅ React 19 + Compiler"}),(0,r.jsx)("pre",{className:"text-xs bg-white p-3 rounded overflow-x-auto",children:"// 不需要 memo, useMemo, useCallback\n\nfunction MyComponent({ data, onClick }) {\n  const processed = processData(data);\n  \n  const handleClick = () => {\n    onClick(processed);\n  };\n  \n  return <button onClick={handleClick}>\n    {processed}\n  </button>;\n}\n\n// React Compiler 自动优化！"})]})]})]}),n[2]=s):s=n[2],s}function P(){let e,t,s,n,l,c,o,i,d,m,x,u=(0,a.c)(11);return u[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsxs)("header",{className:"mb-8",children:[(0,r.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 mb-2 flex items-center gap-3",children:[(0,r.jsx)(h,{className:"w-8 h-8 text-blue-600"}),"React Compiler 自动优化演示"]}),(0,r.jsx)("p",{className:"text-gray-600",children:"React 19 的 React Compiler 自动优化性能，无需手动使用 memo/useMemo/useCallback"})]}),u[0]=e):e=u[0],u[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsx)(_,{}),s=(0,r.jsx)(C,{}),n=(0,r.jsx)(O,{}),l=(0,r.jsx)(T,{}),c=(0,r.jsx)(M,{}),u[1]=t,u[2]=s,u[3]=n,u[4]=l,u[5]=c):(t=u[1],s=u[2],n=u[3],l=u[4],c=u[5]),u[6]===Symbol.for("react.memo_cache_sentinel")?(o=(0,r.jsx)("h3",{className:"text-xl font-semibold mb-4 text-gray-900",children:"\uD83D\uDCA1 React Compiler 的好处"}),u[6]=o):o=u[6],u[7]===Symbol.for("react.memo_cache_sentinel")?(i=(0,r.jsx)("h4",{className:"font-semibold text-green-600 mb-2",children:"✅ 优点"}),u[7]=i):i=u[7],u[8]===Symbol.for("react.memo_cache_sentinel")?(d=(0,r.jsxs)("div",{className:"bg-white p-4 rounded-lg",children:[i,(0,r.jsxs)("ul",{className:"space-y-1 text-gray-700",children:[(0,r.jsx)("li",{children:"• 自动优化，减少样板代码"}),(0,r.jsx)("li",{children:"• 不需要手动 memo/useMemo/useCallback"}),(0,r.jsx)("li",{children:"• 更好的性能，自动识别优化点"}),(0,r.jsx)("li",{children:"• 代码更简洁易读"}),(0,r.jsx)("li",{children:"• 减少优化错误"})]})]}),u[8]=d):d=u[8],u[9]===Symbol.for("react.memo_cache_sentinel")?(m=(0,r.jsx)("h4",{className:"font-semibold text-blue-600 mb-2",children:"\uD83D\uDCCB 注意事项"}),u[9]=m):m=u[9],u[10]===Symbol.for("react.memo_cache_sentinel")?(x=(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-8",children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto",children:[e,(0,r.jsxs)("div",{className:"space-y-6",children:[t,s,n,l,c,(0,r.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-6 border border-blue-200",children:[o,(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[d,(0,r.jsxs)("div",{className:"bg-white p-4 rounded-lg",children:[m,(0,r.jsxs)("ul",{className:"space-y-1 text-gray-700",children:[(0,r.jsx)("li",{children:"• 需要配置 Babel 插件"}),(0,r.jsx)("li",{children:"• 某些边缘情况可能需要手动优化"}),(0,r.jsx)("li",{children:"• 检查构建输出确认是否启用"}),(0,r.jsx)("li",{children:"• 使用 DevTools 验证优化效果"}),(0,r.jsx)("li",{children:"• 逐步迁移，不必一次性全改"})]})]})]})]})]})]})}),u[10]=x):x=u[10],x}let E=x("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]),A=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;return new Promise((s,r)=>{setTimeout(()=>{r({success:!0,data:e})},t)})},L=function(){let e,t,s,l,c,o,i,d,m,x=(0,a.c)(25);x[0]===Symbol.for("react.memo_cache_sentinel")?(e=[{id:1,text:"学习 React 19 新特性",completed:!1},{id:2,text:"构建现代化应用",completed:!1},{id:3,text:"掌握 Actions 和 Hooks",completed:!1}],x[0]=e):e=x[0];let[h,p]=(0,n.useState)(e),[b,g]=(0,n.useOptimistic)(h),[j,f]=(0,n.useTransition)();x[1]!==b||x[2]!==g||x[3]!==h?(t=e=>{f(async()=>{g(b.map(t=>t.id===e?{...t,completed:!t.completed}:t));try{await A({id:e},1500),p(h.map(t=>t.id===e?{...t,completed:!t.completed}:t))}catch(e){console.log(e)}})},x[1]=b,x[2]=g,x[3]=h,x[4]=t):t=x[4];let y=t;x[5]!==b||x[6]!==g||x[7]!==h?(s=()=>{let e={id:Date.now(),text:`新任务 ${h.length+1}`,completed:!1};f(async()=>{g([...b,e]),await A(e,1e3),p([...h,e])})},x[5]=b,x[6]=g,x[7]=h,x[8]=s):s=x[8];let N=s;if(x[9]===Symbol.for("react.memo_cache_sentinel")?(l=(0,r.jsxs)("h3",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[(0,r.jsx)(E,{className:"w-5 h-5 text-purple-600"}),"2. useOptimistic - 乐观更新"]}),x[9]=l):l=x[9],x[10]!==j||x[11]!==b||x[12]!==y){let e;x[14]!==j||x[15]!==y?(e=e=>(0,r.jsxs)("div",{className:`flex items-center gap-3 p-3 rounded-lg transition-all ${e.completed?"bg-green-50":"bg-gray-50"}`,children:[(0,r.jsx)("input",{type:"checkbox",checked:e.completed,onChange:()=>y(e.id),className:"w-5 h-5 text-purple-600 rounded cursor-pointer"}),(0,r.jsx)("span",{className:`flex-1 ${e.completed?"line-through text-gray-400":"text-gray-900"}`,children:e.text}),j&&(0,r.jsx)(u,{className:"w-4 h-4 text-purple-600 animate-spin"})]},e.id),x[14]=j,x[15]=y,x[16]=e):e=x[16],c=b.map(e),x[10]=j,x[11]=b,x[12]=y,x[13]=c}else c=x[13];return x[17]!==c?(o=(0,r.jsx)("div",{className:"space-y-2 mb-4",children:c}),x[17]=c,x[18]=o):o=x[18],x[19]!==N?(i=(0,r.jsx)("button",{type:"button",onClick:N,className:"px-4 py-2 bg-purple-600 text-white  rounded-lg font-medium hover:bg-purple-700 transition-all",children:"添加新任务"}),x[19]=N,x[20]=i):i=x[20],x[21]===Symbol.for("react.memo_cache_sentinel")?(d=(0,r.jsxs)("div",{className:"mt-4 text-sm text-gray-600 bg-purple-50 p-3 rounded-lg",children:[(0,r.jsx)("strong",{children:"特性："})," UI 立即响应用户操作，同时在后台同步数据，提供丝滑的用户体验"]}),x[21]=d):d=x[21],x[22]!==o||x[23]!==i?(m=(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[l,o,i,d]}),x[22]=o,x[23]=i,x[24]=m):m=x[24],m},U=e=>{let t,s,n,l,c,o,i=(0,a.c)(12);return i[0]!==e?({inputRef:t,setFocused:n,...s}=e,i[0]=e,i[1]=t,i[2]=s,i[3]=n):(t=i[1],s=i[2],n=i[3]),i[4]!==n?(l=()=>n(!0),c=()=>n(!1),i[4]=n,i[5]=l,i[6]=c):(l=i[5],c=i[6]),i[7]!==t||i[8]!==s||i[9]!==l||i[10]!==c?(o=(0,r.jsx)("input",{ref:t,...s,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",onFocus:l,onBlur:c}),i[7]=t,i[8]=s,i[9]=l,i[10]=c,i[11]=o):o=i[11],o},$=function(){let e,t,s,l,c,o,i,d,m,x=(0,a.c)(15),[u,p]=(0,n.useState)(!1),[b,g]=(0,n.useState)(null);x[0]!==b?(e=()=>{b&&b.focus()},x[0]=b,x[1]=e):e=x[1];let j=e;return x[2]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsxs)("h3",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[(0,r.jsx)(h,{className:"w-5 h-5 text-orange-600"}),"4. ref 作为 prop - 简化的 ref 转发"]}),x[2]=t):t=x[2],x[3]===Symbol.for("react.memo_cache_sentinel")?(s=(0,r.jsx)("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:(0,r.jsx)("pre",{className:"text-xs text-gray-700 overflow-x-auto",children:(0,r.jsx)("code",{children:"const CustomInput = (inputRef, ...props) => { \n  return <input ref={inputRef} /> \n}"})})}),x[3]=s):s=x[3],x[4]===Symbol.for("react.memo_cache_sentinel")?(l=(0,r.jsx)(U,{inputRef:g,placeholder:"点击按钮聚焦此输入框",setFocused:p}),x[4]=l):l=x[4],x[5]!==j?(c=(0,r.jsx)("button",{type:"button",onClick:j,className:"px-4 py-2 bg-orange-600 text-white  rounded-lg font-medium hover:bg-orange-700 transition-all",children:"聚焦输入框"}),x[5]=j,x[6]=c):c=x[6],x[7]!==u?(o=u&&(0,r.jsx)("div",{className:"p-3 bg-orange-50 border border-orange-200 rounded-lg",children:(0,r.jsx)("span",{className:"text-orange-700",children:"✨ 输入框已聚焦"})}),x[7]=u,x[8]=o):o=x[8],x[9]!==c||x[10]!==o?(i=(0,r.jsxs)("div",{className:"space-y-4",children:[l,c,o]}),x[9]=c,x[10]=o,x[11]=i):i=x[11],x[12]===Symbol.for("react.memo_cache_sentinel")?(d=(0,r.jsxs)("div",{className:"mt-4 text-sm text-gray-600 bg-orange-50 p-3 rounded-lg",children:[(0,r.jsx)("strong",{children:"特性："})," React 19 中不再需要 forwardRef，可以直接使用 ref 作为 prop"]}),x[12]=d):d=x[12],x[13]!==i?(m=(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[t,s,i,d]}),x[13]=i,x[14]=m):m=x[14],m};var F=s(961);function H(){let e,t=(0,a.c)(3),{pending:s,data:n,method:l}=(0,F.useFormStatus)();console.log(s,n,l);let c=s?"提交中...":"提交";return t[0]!==s||t[1]!==c?(e=(0,r.jsx)("button",{type:"submit",disabled:s,className:"w-[80px] p-4 px-4 py-2 mt-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center justify-center",children:c}),t[0]=s,t[1]=c,t[2]=e):e=t[2],e}function z(e){return new Promise(t=>{setTimeout(()=>{t(e)},1e3)})}let B=function(){let e,t,s,n=(0,a.c)(3);if(n[0]===Symbol.for("react.memo_cache_sentinel")){e=async function(e){await t(e)};let t=z;n[0]=e}else e=n[0];return n[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsx)("h3",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:"5. useFormStatus"}),n[1]=t):t=n[1],n[2]===Symbol.for("react.memo_cache_sentinel")?(s=(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[t,(0,r.jsxs)("form",{action:e,children:[(0,r.jsx)("input",{name:"username",className:"border-1"}),(0,r.jsx)("br",{}),(0,r.jsx)(H,{})," "]})]}),n[2]=s):s=n[2],s},q=(0,n.createContext)("light");function W(e){let t,s,l,c,o=(0,a.c)(6),{promise:i}=e;console.log(i);let d=(0,n.use)(i);return o[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsx)("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:(0,r.jsx)("pre",{className:"text-xs text-gray-700 overflow-x-auto",children:(0,r.jsx)("code",{children:"代码示例：\n\n// ✅ 使用 use() 读取 Promise\nfunction UserDisplay({ promise }) {\n  const user = use(promise); // 自动等待 Promise\n  return <div>{user.name}</div>;\n}\n\n// 使用 Suspense 包裹\n<Suspense fallback={<Loading />}>\n  <UserDisplay promise={userPromise} />\n</Suspense>"})})}),o[0]=t):t=o[0],o[1]!==d.id?(s=(0,r.jsx)("div",{children:d.id}),o[1]=d.id,o[2]=s):s=o[2],o[3]===Symbol.for("react.memo_cache_sentinel")?(l=(0,r.jsx)("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:(0,r.jsx)("pre",{className:"text-xs text-gray-700 overflow-x-auto",children:(0,r.jsx)("code",{children:"代码示例：\n\n// ✅ use() 可以在条件语句中使用\nfunction Component({ promise, showData }) {\n  if (showData) {\n    const data = use(promise); // 条件式使用\n    return <div>{data.name}</div>;\n  }\n  return <div>暂无数据</div>;\n}\n\n// ❌ 传统 Hooks 不能这样用\nfunction OldWay({ showData }) {\n  if (showData) {\n    const data = useState(); // ❌ 错误！\n  }\n}"})})}),o[3]=l):l=o[3],o[4]!==s?(c=(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:["新写法（use + Suspense） 等 Promise resolve 后，自动渲染； 抛给"," ","<Suspense />"," 显示 loading；reject 抛给 ","<ErrorBoundary />",t,s,l]}),o[4]=s,o[5]=c):c=o[5],c}function I(){let e,t,s=(0,a.c)(3),l=(0,n.use)(q);return s[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:(0,r.jsx)("pre",{className:"text-xs text-gray-700 overflow-x-auto",children:(0,r.jsx)("code",{children:"const theme = use(ThemeContext);\n  return <p>当前主题: {theme}</p>;"})})}),s[0]=e):e=s[0],s[1]!==l?(t=(0,r.jsxs)(r.Fragment,{children:[e,(0,r.jsxs)("p",{children:["当前主题: ",l]})]}),s[1]=l,s[2]=t):t=s[2],t}function Z(e){return(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(p,{className:"w-4 h-4 text-green-600"}),(0,r.jsx)("span",{className:"text-gray-700",children:e})]},e)}function K(e){setTimeout(()=>{e({message:"数据加载成功！",timestamp:new Date().toLocaleTimeString(),items:["React 19","Actions","useOptimistic","use() Hook","ref as prop"]})},1500)}let Y=function(){let e,t,s,l,c,o,i,d,m,x,h,p,b=(0,a.c)(24),[g,f]=(0,n.useState)(!1),[y,N]=(0,n.useState)(null),[v,_]=(0,n.useState)(null);b[0]===Symbol.for("react.memo_cache_sentinel")?(e=()=>{_(new Promise(e=>{setTimeout(()=>{e({id:1,name:`用户 1`,email:"user1@example.com",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=1",role:"Developer"})},3500)}))},t=[],b[0]=e,b[1]=t):(e=b[0],t=b[1]),(0,n.useEffect)(e,t),b[2]===Symbol.for("react.memo_cache_sentinel")?(s=()=>{f(!0),N(null),new Promise(K).then(e=>{N(e),f(!1)})},b[2]=s):s=b[2];let w=s;b[3]===Symbol.for("react.memo_cache_sentinel")?(l=(0,r.jsx)(q,{value:"dark",children:(0,r.jsx)(I,{})}),b[3]=l):l=b[3],b[4]===Symbol.for("react.memo_cache_sentinel")?(c=(0,r.jsxs)("h3",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[(0,r.jsx)(j,{className:"w-5 h-5 text-green-600"}),"3. use() Hook - 处理 Promise - context, use 只能在 render 阶段使用"]}),b[4]=c):c=b[4];let S=`w-4 h-4 ${g?"animate-spin":""}`;b[5]!==S?(o=(0,r.jsx)(j,{className:S}),b[5]=S,b[6]=o):o=b[6];let k=g?"加载中...":"触发数据加载";return b[7]!==g||b[8]!==o||b[9]!==k?(i=(0,r.jsxs)("button",{type:"button",onClick:w,disabled:g,className:"px-4 py-2 bg-green-600 text-white  rounded-lg font-medium hover:bg-green-700 transition-all disabled:opacity-50 flex items-center gap-2",children:[o,k]}),b[7]=g,b[8]=o,b[9]=k,b[10]=i):i=b[10],b[11]!==g?(d=g&&(0,r.jsxs)("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg flex items-center gap-2",children:[(0,r.jsx)(u,{className:"w-5 h-5 animate-spin text-green-600"}),(0,r.jsx)("span",{className:"text-gray-600",children:"正在加载数据..."})]}),b[11]=g,b[12]=d):d=b[12],b[13]!==y||b[14]!==g?(m=y&&!g&&(0,r.jsxs)("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:[(0,r.jsx)("p",{className:"text-green-700 font-medium mb-2",children:y.message}),(0,r.jsxs)("p",{className:"text-sm text-green-600 mb-3",children:["时间: ",y.timestamp]}),(0,r.jsx)("div",{className:"space-y-1",children:y.items.map(Z)})]}),b[13]=y,b[14]=g,b[15]=m):m=b[15],b[16]!==v?(x=v&&(0,r.jsx)(n.Suspense,{fallback:(0,r.jsx)("div",{children:"加载中..."}),children:(0,r.jsx)(W,{promise:v})}),b[16]=v,b[17]=x):x=b[17],b[18]===Symbol.for("react.memo_cache_sentinel")?(h=(0,r.jsxs)("div",{className:"mt-4 text-sm text-gray-600 bg-green-50 p-3 rounded-lg",children:[(0,r.jsx)("strong",{children:"特性："})," use() 可以在组件中直接处理 Promise，自动处理 Suspense 边界"]}),b[18]=h):h=b[18],b[19]!==m||b[20]!==x||b[21]!==i||b[22]!==d?(p=(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[l,c,i,d,m,x,h]}),b[19]=m,b[20]=x,b[21]=i,b[22]=d,b[23]=p):p=b[23],p},G=(0,c.Ys)([{path:"/",element:(0,r.jsx)(()=>{let e,t,s,n,l,c=(0,a.c)(5);return c[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)("title",{children:"Home - 1"}),t=(0,r.jsx)("meta",{name:"description",content:"React Demo Home"}),s=(0,r.jsx)("h1",{children:"React-19"}),n=(0,r.jsx)("h2",{children:"React 编译器"}),c[0]=e,c[1]=t,c[2]=s,c[3]=n):(e=c[0],t=c[1],s=c[2],n=c[3]),c[4]===Symbol.for("react.memo_cache_sentinel")?(l=(0,r.jsxs)("div",{className:"page",children:[e,t,s,n,(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,r.jsx)("ul",{children:(0,r.jsx)("li",{children:"学习 React 编译器的作用 以及它如何通过自动处理记忆化（memoization）来优化你的 React 应用，从而无需再手动使用 useMemo，useCallback，和 React.memo。"})}),(0,r.jsx)(P,{})]}),(0,r.jsx)("h2",{children:"Actions (异步操作)"}),(0,r.jsx)(g,{}),(0,r.jsx)("h2",{children:"OptimisticDemo"}),(0,r.jsx)(L,{}),(0,r.jsx)("h2",{children:"UseHookDemo"}),(0,r.jsx)(Y,{}),(0,r.jsx)("h2",{children:"Ref"}),(0,r.jsx)($,{}),(0,r.jsx)("h2",{children:"useFormStatus"}),(0,r.jsx)(B,{})]}),c[4]=l):l=c[4],l},{})}],{basename:"/react-19"});function J(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class Q extends n.Component{static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,t){var s,r;console.error("ErrorBoundary 捕获到错误：",e,t),null==(s=(r=this.props).onError)||s.call(r,e,t)}render(){return this.state.hasError?this.props.fallback||(0,r.jsx)("button",{type:"button",onClick:()=>this.navigator("/"),onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),this.navigator("/"))},style:{background:"none",border:"none",cursor:"pointer",padding:0,font:"inherit"},children:"Something went wrong."}):this.props.children}constructor(...e){super(...e),J(this,"state",{hasError:!1}),J(this,"navigator",e=>{window.location.href=e})}}let V=document.getElementById("root");V&&l.createRoot(V).render((0,r.jsx)(n.StrictMode,{children:(0,r.jsx)(Q,{children:(0,r.jsx)(()=>{let e,t=(0,a.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)(c.pg,{router:G}),t[0]=e):e=t[0],e},{})})}))}},c={};function o(e){var t=c[e];if(void 0!==t)return t.exports;var s=c[e]={exports:{}};return a[e](s,s.exports,o),s.exports}o.m=a,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,o.t=function(s,r){if(1&r&&(s=this(s)),8&r||"object"==typeof s&&s&&(4&r&&s.__esModule||16&r&&"function"==typeof s.then))return s;var n=Object.create(null);o.r(n);var l={};e=e||[null,t({}),t([]),t(t)];for(var a=2&r&&s;("object"==typeof a||"function"==typeof a)&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach(e=>{l[e]=()=>s[e]});return l.default=()=>s,o.d(n,l),n},o.d=(e,t)=>{for(var s in t)o.o(t,s)&&!o.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"u">typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s=[],o.O=(e,t,r,n)=>{if(t){n=n||0;for(var l=s.length;l>0&&s[l-1][2]>n;l--)s[l]=s[l-1];s[l]=[t,r,n];return}for(var a=1/0,l=0;l<s.length;l++){for(var[t,r,n]=s[l],c=!0,i=0;i<t.length;i++)(!1&n||a>=n)&&Object.keys(o.O).every(e=>o.O[e](t[i]))?t.splice(i--,1):(c=!1,n<a&&(a=n));if(c){s.splice(l--,1);var d=r();void 0!==d&&(e=d)}}return e},r={410:0},o.O.j=e=>0===r[e],n=(e,t)=>{var s,n,[l,a,c]=t,i=0;if(l.some(e=>0!==r[e])){for(s in a)o.o(a,s)&&(o.m[s]=a[s]);if(c)var d=c(o)}for(e&&e(t);i<l.length;i++)n=l[i],o.o(r,n)&&r[n]&&r[n][0](),r[n]=0;return o.O(d)},(l=self.webpackChunkreact_demo=self.webpackChunkreact_demo||[]).forEach(n.bind(null,0)),l.push=n.bind(null,l.push.bind(l));var i=o.O(void 0,["783","535"],()=>o(647));i=o.O(i)})();